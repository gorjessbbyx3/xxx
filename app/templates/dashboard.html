<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BINGOxBANGO Dark Web Explorer</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='styles.css') }}">
    <script src="https://cdn.jsdelivr.net/npm/feather-icons/dist/feather.min.js"></script>
    <style>
        /* Tor Browser Card Styles */
        .tor-browser-card {
            background: linear-gradient(135deg, #2b2c3b, #1a1c2d);
            border: 1px solid #343851;
            transition: all 0.3s ease;
        }

        .tor-browser-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 15px rgba(0, 0, 0, 0.2);
        }

        .tor-browser-actions {
            display: flex;
            margin-top: 10px;
            gap: 10px;
        }

        .button {
            padding: 8px 14px;
            border-radius: 6px;
            font-size: 14px;
            font-weight: 600;
            display: flex;
            align-items: center;
            gap: 6px;
            cursor: pointer;
            transition: all 0.2s ease;
        }

        .primary-button {
            background-color: var(--primary-color);
            color: white;
            border: none;
        }

        .primary-button:hover {
            background-color: var(--primary-hover);
            transform: translateY(-1px);
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.15);
        }

        .secondary-button {
            background-color: transparent;
            color: var(--text-light);
            border: 1px solid var(--border-color);
        }

        .secondary-button:hover {
            background-color: rgba(255, 255, 255, 0.05);
            border-color: var(--text-muted);
        }
        /* Added basic media query for mobile responsiveness */
        @media (max-width: 768px) {
            .dashboard-layout {
                flex-direction: column;
            }
            .chat-column {
                max-width: 100%;
            }
            .tools-column {
                max-width: 100%;
            }
            .tools-grid {
                grid-template-columns: 1fr;
            }
            .jobs-card {
                grid-column: 1;
            }
            .button {
                font-size: 12px;
                padding: 6px 10px;
            }
            .chat-input {
                font-size: 14px;
            }
        }

        .fade-in {
            opacity: 0;
            transition: opacity 0.5s ease-in-out;
        }

        .fade-in.visible {
            opacity: 1;
        }

        .loading-container {
            position: relative;
            width: 100%;
            height: 100%;
            display: flex;
            justify-content: center;
            align-items: center;
        }

        .loading-skeleton {
            background-color: #333;
            width: 100%;
            height: 100%;
            border-radius: 6px;
            animation: shimmer 1.5s infinite linear;
        }

        @keyframes shimmer {
            0% { background-position: -100px 0; }
            100% { background-position: 100px 0; }
        }
    </style>
</head>
<body>
    <header>
        <div class="logo">
            <h1><i data-feather="eye"></i> BINGOxBANGO</h1>
        </div>
        <nav>
            <a href="{{ url_for('index') }}" class="nav-link"><i data-feather="home"></i> Home</a>
            <a href="{{ url_for('security_tools') }}" class="nav-link"><i data-feather="shield"></i> Security Tools</a>
            <a href="{{ url_for('interactive_tools') }}" class="nav-link"><i data-feather="cpu"></i> Interactive Tools</a>
            <a href="{{ url_for('check_designer') }}" class="nav-link"><i data-feather="file-text"></i> Check Designer</a>
            <a href="#" class="nav-link"><i data-feather="settings"></i> Settings</a>
        </nav>
    </header>

    <main>
        <!-- Status Overview -->
        <section class="status-panel">
            <h2>System Status</h2>
            <div class="status-cards">
                <!-- Tor Browser -->
                <div class="status-card tor-browser-card">
                    <div class="status-icon">
                        <i data-feather="globe"></i>
                    </div>
                    <div class="status-details">
                        <h3>Tor Browser</h3>
                        <p class="status-text">Anonymous Browsing</p>
                        <div class="tor-browser-actions">
                            <button id="launch-tor-browser" class="button primary-button">
                                <i data-feather="eye"></i> Launch Browser
                            </button>
                            <button id="configure-tor" class="button secondary-button">
                                <i data-feather="settings"></i> Settings
                            </button>
                        </div>
                    </div>
                </div>



                <!-- Current Location Status -->
                <div class="status-card status-info">
                    <div class="status-icon">
                        <i data-feather="map-pin"></i>
                    </div>
                    <div class="status-details">
                        <h3>Current Location</h3>
                        <p class="status-text">
                            Network Status
                        </p>
                        <div class="ip-address-container">
                            <span class="ip-label">Your IP:</span>
                            <span class="ip-value">192.168.1.XX</span>
                            <span class="ip-location">(Local Network)</span>
                        </div>
                    </div>
                </div>

                <!-- Job Status -->
                <div class="status-card status-ok">
                    <div class="status-icon">
                        <i data-feather="activity"></i>
                    </div>
                    <div class="status-details">
                        <h3>Jobs</h3>
                        <p class="status-text">{{ jobs|length }} jobs</p>
                        <p class="status-info">
                            {{ jobs|selectattr('status', 'equalto', 'running')|list|length }} running, 
                            {{ jobs|selectattr('status', 'equalto', 'completed')|list|length }} completed
                        </p>
                    </div>
                </div>
            </div>
        </section>

        <!-- Quick Access -->
        <section>
            <h2>Quick Access</h2>
            <div class="search-container">
                <div class="search-box">
                    <i data-feather="search"></i>
                    <input type="text" id="quickSearch" placeholder="Search for tools, jobs, or URLs..." onkeyup="quickSearch()">
                </div>
                <div id="searchResults" class="search-results" style="display: none;"></div>
            </div>

            <script>
                function quickSearch() {
                    const searchInput = document.getElementById('quickSearch');
                    const searchResults = document.getElementById('searchResults');
                    const query = searchInput.value.toLowerCase();

                    if (query.length < 2) {
                        searchResults.style.display = 'none';
                        return;
                    }

                    // Search through tools, jobs, and content
                    const results = [];
                    document.querySelectorAll('.tool-card').forEach(tool => {
                        const title = tool.querySelector('h3').textContent.toLowerCase();
                        if (title.includes(query)) {
                            results.push({
                                type: 'Tool',
                                title: tool.querySelector('h3').textContent,
                                link: '#' + title.replace(/\s+/g, '-')
                            });
                        }
                    });

                    // Display results
                    if (results.length > 0) {
                        searchResults.innerHTML = results.map(result => `
                            <div class="search-result-item">
                                <i data-feather="${result.type === 'Tool' ? 'tool' : 'file'}"></i>
                                <a href="${result.link}">${result.title}</a>
                                <span class="result-type">${result.type}</span>
                            </div>
                        `).join('');
                        searchResults.style.display = 'block';
                        feather.replace();
                    } else {
                        searchResults.style.display = 'none';
                    }
                }
            </script>
            <div class="quick-access">
                <a href="{{ url_for('start_crawl') }}" class="quick-access-item">
                    <div class="quick-access-icon">
                        <i data-feather="globe"></i>
                    </div>
                    <div class="quick-access-details">
                        <h3>Start Crawl</h3>
                        <p>Begin a new dark web crawling job</p>
                    </div>
                </a>
                <a href="{{ url_for('analyze_single') }}" class="quick-access-item">
                    <div class="quick-access-icon">
                        <i data-feather="search"></i>
                    </div>
                    <div class="quick-access-details">
                        <h3>Analyze URL</h3>
                        <p>Analyze a single URL without crawling</p>
                    </div>
                </a>
                <a href="{{ url_for('uncensored_chat') }}" class="quick-access-item mobile-full-width">
                    <div class="quick-access-icon">
                        <i data-feather="message-circle"></i>
                    </div>
                    <div class="quick-access-details">
                        <h3>Uncensored AI Chat</h3>
                        <p>Chat with AI without content filters</p>
                    </div>
                </a>
                <a href="#" class="quick-access-item">
                    <div class="quick-access-icon">
                        <i data-feather="database"></i>
                    </div>
                    <div class="quick-access-details">
                        <h3>Data Management</h3>
                        <p>Export, backup, or delete data</p>
                    </div>
                </a>
            </div>
        </section>

        <!-- Main Dashboard -->
        <section>
            <h2>Dashboard</h2>
            <!-- Two-column layout with chat on left -->
            <div class="dashboard-layout">
                <!-- Left column - Chat -->
                <div class="dashboard-column chat-column">
                    <div class="dashboard-card chat">
                        <div class="dashboard-card-header">
                            <div class="dashboard-card-icon">
                                <i data-feather="message-circle"></i>
                            </div>
                            <h3 class="dashboard-card-title">Uncensored AI Chat</h3>
                        </div>
                        <div class="chat-container">
                            <div class="chat-messages">
                                <div class="chat-message system">
                                    <div class="chat-message-content">
                                        <p>Welcome to uncensored chat. What would you like to know?</p>
                                    </div>
                                </div>
                            </div>
                            <div class="chat-input-container">
                                <input type="text" class="chat-input" placeholder="Type your message here...">
                                <button class="chat-send-btn">
                                    <i data-feather="send"></i>
                                </button>
                            </div>
                        </div>
                        <div class="dashboard-card-footer">
                            <a href="{{ url_for('uncensored_chat') }}" class="btn btn-primary">Full Chat Interface</a>
                        </div>
                    </div>
                </div>

                <!-- Right column - Tools -->
                <div class="dashboard-column tools-column">
                    <!-- Tools Grid -->
                    <div class="tools-grid fade-in" id="dashboardGrid">
                        <div class="loading-container" id="dashboardLoader">
                            <div class="loading-skeleton"></div>
                        </div>
                        <!-- Tor Browser Card -->
                        <div class="tool-card">
                            <div class="tool-icon">
                                <i data-feather="shield"></i>
                            </div>
                            <div class="tool-details">
                                <h3>Tor Browser</h3>
                                <p>Secure anonymous browsing</p>
                                <div class="tool-actions">
                                    <button id="launch-tor-browser" class="btn btn-primary btn-sm">Launch</button>
                                    <button id="configure-tor" class="btn btn-secondary btn-sm">Settings</button>
                                </div>
                            </div>
                        </div>

                        <!-- Crawler Card -->
                        <div class="tool-card">
                            <div class="tool-icon">
                                <i data-feather="navigation"></i>
                            </div>
                            <div class="tool-details">
                                <h3>Dark Web Crawler</h3>
                                <p>Crawl and analyze onion sites</p>
                                <div class="tool-actions">
                                    <a href="{{ url_for('start_crawl') }}" class="btn btn-primary btn-sm">Start Crawl</a>
                                    <a href="{{ url_for('analyze_single') }}" class="btn btn-secondary btn-sm">Analyze URL</a>
                                </div>
                            </div>
                        </div>

                        <!-- Security Tools Card -->
                        <div class="tool-card">
                            <div class="tool-icon">
                                <i data-feather="lock"></i>
                            </div>
                            <div class="tool-details">
                                <h3>Security Tools</h3>
                                <p>Advanced cybersecurity utilities</p>
                                <div class="tool-actions">
                                    <a href="{{ url_for('security_tools') }}" class="btn btn-primary btn-sm">Open</a>
                                    <a href="{{ url_for('interactive_tools') }}" class="btn btn-secondary btn-sm">Interactive</a>
                                </div>
                            </div>
                        </div>

                        <!-- Data Management Card -->
                        <div class="tool-card">
                            <div class="tool-icon">
                                <i data-feather="database"></i>
                            </div>
                            <div class="tool-details">
                                <h3>Data Management</h3>
                                <p>Export and backup crawled data</p>
                                <div class="tool-actions">
                                    <a href="#" class="btn btn-primary btn-sm">Export</a>
                                    <a href="#" class="btn btn-secondary btn-sm">Settings</a>
                                </div>
                            </div>
                        </div>

                        <!-- Recent Jobs Card -->
                        <div class="tool-card jobs-card">
                            <div class="tool-icon">
                                <i data-feather="clock"></i>
                            </div>
                            <div class="tool-details">
                                <h3>Recent Jobs</h3>
                                <div class="recent-jobs-list">
                                    {% if jobs %}
                                    <ul class="mini-activity-log">
                                        {% for job_id, job in jobs.items() %}
                                        {% if loop.index <= 2 %}
                                        <li class="mini-activity-item {% if job.status == 'completed' %}success{% elif job.status == 'running' %}warning{% elif job.status == 'failed' %}error{% endif %}">
                                            <div class="mini-activity-header">
                                                <span class="mini-activity-title">{{ job.id[:8] }}...</span>
                                                <span class="mini-activity-status">{{ job.status }}</span>
                                            </div>
                                        </li>
                                        {% endif %}
                                        {% endfor %}
                                    </ul>
                                    {% else %}
                                    <p class="mini-empty-state">No recent jobs</p>
                                    {% endif %}
                                </div>
                                <div class="tool-actions">
                                    <a href="#" class="btn btn-primary btn-sm">View All</a>
                                </div>
                            </div>
                        </div>

                        <!-- Check Designer Card -->
                        <div class="tool-card">
                            <div class="tool-icon">
                                <i data-feather="file-text"></i>
                            </div>
                            <div class="tool-details">
                                <h3>Check Designer</h3>
                                <p>Document customization tool</p>
                                <div class="tool-actions">
                                    <a href="{{ url_for('check_designer') }}" class="btn btn-primary btn-sm">Open</a>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Recent Activity -->
        <section>
            <h2>Recent Activity</h2>
            <ul class="activity-log">
                <li class="activity-item success">
                    <div class="activity-item-header">
                        <h4 class="activity-item-title">System Started</h4>
                        <span class="activity-item-time">{{ now }}</span>
                    </div>
                    <div class="activity-item-content">
                        GhostTrace Dark Web Crawler initialized successfully
                    </div>
                </li>
                <li class="activity-item warning">
                    <div class="activity-item-header">
                        <h4 class="activity-item-title">Service Check</h4>
                        <span class="activity-item-time">{{ now }}</span>
                    </div>
                    <div class="activity-item-content">
                        {% if not service_status.tor.running %}Tor service not running. {% endif %}
                        {% if not service_status.openai.available %}OpenAI API not available. {% endif %}
                        {% if service_status.tor.running and service_status.openai.available %}All services running correctly.{% endif %}
                    </div>
                </li>
                {% if jobs %}
                {% for job_id, job in jobs.items() %}
                {% if loop.index <= 2 %}
                <li class="activity-item {% if job.status == 'completed' %}success{% elif job.status == 'running' %}warning{% elif job.status == 'failed' %}error{% endif %}">
                    <div class="activity-item-header">
                        <h4 class="activity-item-title">Job {{ job.status|title }}</h4>
                        <span class="activity-item-time">{{ job.start_time }}</span>
                    </div>
                    <div class="activity-item-content">
                        Job ID: {{ job.id }} - {{ job.urls|length }} URL(s), Depth: {{ job.depth }}
                    </div>
                </li>
                {% endif %}
                {% endfor %}
                {% endif %}
            </ul>
        </section>
    </main>

    <footer>
        <p>GhostTrace Dark Web Crawler &copy; 2025 | <a href="https://github.com/Z4nzu/hackingtool" target="_blank">GitHub</a></p>
    </footer>

    <script>
        // Initialize Feather icons
        document.addEventListener('DOMContentLoaded', function() {
            feather.replace();

            // Auto-refresh if there are running jobs
            {% if jobs and jobs|selectattr('status', 'equalto', 'running')|list|length > 0 %}
            setTimeout(function() {
                window.location.reload();
            }, 30000); // Refresh every 30 seconds
            {% endif %}
            // Show the dashboard after a delay to simulate loading
            setTimeout(() => {
                document.getElementById('dashboardGrid').classList.add('visible');
                document.getElementById('dashboardLoader').style.display = 'none';
            }, 1000);
        });

        // Tor Browser Modal Functions
        document.addEventListener('DOMContentLoaded', function() {
            const launchBrowserBtn = document.getElementById('launch-tor-browser');
            const configureTorBtn = document.getElementById('configure-tor');
            const torBrowserModal = document.getElementById('torBrowserModal');
            const torSettingsModal = document.getElementById('torSettingsModal');
            const closeTorModal = document.getElementById('closeTorModal');
            const closeTorSettingsModal = document.getElementById('closeTorSettingsModal');

            // Setup event listeners
            if (launchBrowserBtn) {
                launchBrowserBtn.addEventListener('click', function() {
                    showModal(torBrowserModal);
                });
            }

            if (configureTorBtn) {
                configureTorBtn.addEventListener('click', function() {
                    showModal(torSettingsModal);
                });
            }

            if (closeTorModal) {
                closeTorModal.addEventListener('click', function() {
                    hideModal(torBrowserModal);
                });
            }

            if (closeTorSettingsModal) {
                closeTorSettingsModal.addEventListener('click', function() {
                    hideModal(torSettingsModal);
                });
            }

            // Handle security level buttons
            const securityLevelBtns = document.querySelectorAll('.security-level-btn');
            securityLevelBtns.forEach(btn => {
                btn.addEventListener('click', function() {
                    securityLevelBtns.forEach(b => b.classList.remove('active'));
                    this.classList.add('active');
                });
            });

            // Handle start browsing button
            const startBrowsingBtn = document.getElementById('startBrowsing');
            if (startBrowsingBtn) {
                startBrowsingBtn.addEventListener('click', function() {
                    const content = document.getElementById('torBrowserContent');
                    content.innerHTML = '<div style="padding: 20px; text-align: center;"><p>Connecting to the Tor network...</p><div class="loading-spinner"></div></div>';

                    // Simulate connection
                    setTimeout(function() {
                        content.innerHTML = '<div style="padding: 20px; text-align: center;"><p>Loading dark web content...</p><div class="loading-spinner"></div></div>';

                        // Simulate loading content
                        setTimeout(function() {
                            content.innerHTML = `
                                <div style="padding: 20px;">
                                    <h1 style="color: #ddd; font-size: 24px; font-family: 'Courier New', monospace;">BLACK BOOK</h1>
                                    <p style="color: #aaa; margin-bottom: 20px;">Welcome to the Black Book - The Dark Web's Resource Library</p>

                                    <div style="display: grid; grid-template-columns: repeat(auto-fill, minmax(200px, 1fr)); gap: 15px; margin-top: 20px;">
                                        <div style="background: #111; padding: 15px; border-radius: 5px;">
                                            <h3 style="color: #ddd; margin-top: 0;">Marketplaces</h3>
                                            <ul style="color: #888; padding-left: 20px;">
                                                <li>Dream Market</li>
                                                <li>Empire Market</li>
                                                <li>White House</li>
                                                <li>Dark0de</li>
                                            </ul>
                                        </div>

                                        <div style="background: #111; padding: 15px; border-radius: 5px;">
                                            <h3 style="color: #ddd; margin-top: 0;">Forums</h3>
                                            <ul style="color: #888; padding-left: 20px;">
                                                <li>Dread</li>
                                                <li>The Hub</li>
                                                <li>Envoy</li>
                                                <li>DNM Avengers</li>
                                            </ul>
                                        </div>

                                        <div style="background: #111; padding: 15px; border-radius: 5px;">
                                            <h3 style="color: #ddd; margin-top: 0;">Resources</h3>
                                            <ul style="color: #888; padding-left: 20px;">
                                                <li>DNM Bible</li>
                                                <li>PGP Tutorials</li>
                                                <li>Security Guides</li>
                                                <li>OPSEC Resources</li>
                                            </ul>
                                        </div>

                                        <div style="background: #111; padding: 15px; border-radius: 5px;">
                                            <h3 style="color: #ddd; margin-top: 0;">News</h3>
                                            <ul style="color: #888; padding-left: 20px;">
                                                <li>Dark Web News</li>
                                                <li>Market Statuses</li>
                                                <li>Alert Center</li>
                                                <li>Security Bulletins</li>
                                            </ul>
                                        </div>
                                    </div>

                                    <div style="margin-top: 30px; background: #111; padding: 15px; border-radius: 5px;">
                                        <h3 style="color: #ddd; margin-top: 0;">WARNING</h3>
                                        <p style="color: #888;">
                                            This is a simulation of a dark web site for educational purposes only. In the real dark web, 
                                            sites like these would provide links to resources that may contain illegal content. Always 
                                            exercise caution and follow legal guidelines.
                                        </p>
                                    </div>
                                </div>
                            `;
                        }, 2000);
                    }, 1500);
                });
            }

            // Modal helper functions
            function showModal(modal) {
                if (!modal) return;
                modal.style.display = 'block';
                setTimeout(() => {
                    modal.classList.add('show');
                    document.body.classList.add('modal-open');
                }, 10);
            }

            function hideModal(modal) {
                if (!modal) return;
                modal.classList.remove('show');
                setTimeout(() => {
                    modal.style.display = 'none';
                    document.body.classList.remove('modal-open');
                }, 300);
            }
        });
    </script>

    <!-- Tor Browser Modal -->
    <div id="torBrowserModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2 class="modal-title"><i data-feather="shield"></i> Tor Browser</h2>
                <button class="close-modal" id="closeTorModal">&times;</button>
            </div>
            <div class="browser-container">
                <div class="browser-toolbar">
                    <div class="browser-actions">
                        <div class="browser-action action-close"></div>
                        <div class="browser-action action-minimize"></div>
                        <div class="browser-action action-maximize"></div>
                    </div>
                    <div class="browser-address-bar">
                        <i data-feather="lock"></i>
                        <input type="text" class="browser-url" id="torUrl" value="http://blackbooksrgc3ocih.onion/index.php" placeholder="Enter .onion URL">
                        <button id="goButton" class="button primary-button" style="padding: 4px 8px; font-size: 12px;">
                            Go
                        </button>
                    </div>
                </div>
                <div class="browser-content" id="torBrowserContent">
                    <div style="text-align: center; padding: 40px 20px;">
                        <i data-feather="shield" style="width: 60px; height: 60px; margin-bottom: 20px;"></i>
                        <h3>Welcome to Tor Browser</h3>
                        <p style="max-width: 600px; margin: 15px auto; color: #aaa;">
                            Browse the dark web anonymously and securely. Your traffic is routed through the Tor network, providing multiple layers of encryption and privacy.
                        </p>
                        <div style="background-color: #222; border-radius: 8px; padding: 15px; max-width: 600px; margin: 20px auto; text-align: left;">
                            <h4 style="margin-top: 0;"><i data-feather="alert-circle" style="vertical-align: middle; margin-right: 8px;"></i> Safety Tips</h4>
                            <ul style="color: #aaa; padding-left: 25px;">
                                <li>Never reveal personal information</li>
                                <li>Use cryptocurrency for any transactions</li>
                                <li>Be aware that many .onion sites may contain illegal content</li>
                                <li>Don't download files unless you trust the source</li>
                                <li>Consider using a VPN for additional protection</li>
                            </ul>
                        </div>
                        <button id="startBrowsing" class="button primary-button" style="margin-top: 15px;">
                            <i data-feather="compass"></i> Start Browsing
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Tor Settings Modal -->
    <div id="torSettingsModal" class="modal">
        <div class="modal-content" style="max-width: 600px;">
            <div class="modal-header">
                <h2 class="modal-title"><i data-feather="settings"></i> Tor Browser Settings</h2>
                <button class="close-modal" id="closeTorSettingsModal">&times;</button>
            </div>
            <div style="padding: 10px 0;">
                <div style="margin-bottom: 20px;">
                    <h3>Security Level</h3>
                    <p style="color: #aaa;">Higher security may affect website functionality</p>
                    <div style="display: flex; gap: 10px; margin-top: 15px;">
                        <button class="button secondary-button security-level-btn active" data-level="standard">
                            Standard
                        </button>
                        <button class="button secondary-button security-level-btn" data-level="safer">
                            Safer
                        </button>
                        <button class="button secondary-button security-level-btn" data-level="safest">
                            Safest
                        </button>
                    </div>
                </div>

                <div style="margin-bottom: 20px;">
                    <h3>Connection</h3>
                    <div style="background-color: #111; border-radius: 6px; padding: 15px; margin-top: 10px;">
                        <label style="display: block; margin-bottom: 5px;">Tor Circuit</label>
                        <div style="display: flex; align-items: center; gap: 10px; margin-bottom: 15px;">
                            <div style="flex: 1; height: 6px; background-color: #333; border-radius: 3px; position: relative;">
                                <div style="position: absolute; top: 0; left: 0; height: 100%; width: 100%; background-color: var(--secondary-color); border-radius: 3px;"></div>
                            </div>
                            <button id="newCircuit" class="button secondary-button" style="padding: 4px 8px; font-size: 12px;">
                                New Circuit
                            </button>
                        </div>

                        <label style="display: block; margin-bottom: 5px;">Exit Country</label>
                        <select class="browser-url" style="width: 100%; padding: 8px; margin-bottom: 15px; background-color: #0a0a0a;">
                            <option value="auto">Automatic (Fastest)</option>
                            <option value="us">United States</option>
                            <option value="nl">Netherlands</option>
                            <option value="de">Germany</option>
                            <option value="fr">France</option>
                            <option value="gb">United Kingdom</option>
                            <option value="jp">Japan</option>
                        </select>
                    </div>
                </div>

                <div style="margin-bottom: 20px;">
                    <h3>Privacy</h3>
                    <div style="background-color: #111; border-radius: 6px; padding: 15px; margin-top: 10px;">
                        <div style="display: flex; align-items: center; margin-bottom: 15px;">
                            <input type="checkbox" id="blockTrackers" checked style="margin-right: 10px;">
                            <label for="blockTrackers">Block Trackers</label>
                        </div>

                        <div style="display: flex; align-items: center; margin-bottom: 15px;">
                            <input type="checkbox" id="httpsOnly" checked style="margin-right: 10px;">
                            <label for="httpsOnly">HTTPS-Only Mode</label>
                        </div>

                        <div style="display: flex; align-items: center;">
                            <input type="checkbox" id="noScript" style="margin-right: 10px;">
                            <label for="noScript">No Script</label>
                        </div>
                    </div>
                </div>

                <div style="text-align: right; margin-top: 20px;">
                    <button id="saveTorSettings" class="button primary-button">
                        Save Settings
                    </button>
                </div>
            </div>
        </div>
    </div>

</bodyhtml>

    <style>
        /* Dashboard Layout */
        .dashboard-layout {
            display: flex;
            gap: 20px;
            margin-bottom: 30px;
        }

        .dashboard-column {
            display: flex;
            flex-direction: column;
        }

        .chat-column {
            flex: 1;
            min-width: 300px;
            max-width: 400px;
        }

        .tools-column {
            flex: 2;
        }

        /* Chat */
        .chat-container {
            display: flex;
            flex-direction: column;
            height: 400px;
            border: 1px solid var(--border-color);
            border-radius: 6px;
            background-color: var(--dark-bg);
            overflow: hidden;
        }

        .chat-messages {
            flex: 1;
            overflow-y: auto;
            padding: 15px;
        }

        .chat-message {
            margin-bottom: 15px;
            max-width: 80%;
        }

        .chat-message.system {
            align-self: center;
            max-width: 100%;
            background-color: rgba(0, 0, 0, 0.2);
            border-radius: 8px;
            padding: 10px;
            margin-left: auto;
            margin-right: auto;
        }

        .chat-message-content {
            padding: 10px;
            border-radius: 8px;
            background-color: #222;
        }

        .chat-message-content p {
            margin: 0;
            color: var(--text-light);
        }

        .chat-input-container {
            display: flex;
            align-items: center;
            padding: 10px;
            border-top: 1px solid var(--border-color);
            background-color: rgba(0, 0, 0, 0.2);
        }

        .chat-input {
            flex: 1;
            padding: 10px;
            border: 1px solid var(--border-color);
            border-radius: 20px;
            background-color: var(--dark-bg);
            color: var(--text-light);
            outline: none;
        }

        .chat-send-btn {
            width: 36px;
            height: 36px;
            border: none;
            border-radius: 50%;
            background-color: var(--primary-color);
            color: white;
            margin-left: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
        }

        .chat-send-btn i {
            width: 18px;
            height: 18px;
        }

        /* Tools Grid */
        .tools-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
            gap: 15px;
        }

        .tool-card {
            background-color: var(--dark-card-bg);
            border-radius: 8px;
            padding: 15px;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.2);
            display: flex;
            gap: 15px;
            transition: transform 0.2s, box-shadow 0.2s;
        }

        .tool-card:hover {
            transform: translateY(-3px);
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
        }

        .tool-icon {
            width: 40px;
            height: 40px;
            border-radius: 8px;
            background-color: var(--primary-color);
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
        }

        .tool-icon i {
            width: 20px;
            height: 20px;
        }

        .tool-details {
            flex: 1;
        }

        .tool-details h3 {
            margin-top: 0;
            margin-bottom: 5px;
            font-size: 1rem;
        }

        .tool-details p {
            margin-top: 0;
            margin-bottom: 10px;
            color: var(--text-muted);
            font-size: 0.85rem;
        }

        .tool-actions {
            display: flex;
            gap: 8px;
            margin-top: auto;
        }

        .btn-sm {
            padding: 4px 10px;
            font-size: 0.8rem;
        }

        /* Mini Activity Log */
        .recent-jobs-list {
            margin-bottom: 10px;
        }

        .mini-activity-log {
            padding: 0;
            margin: 0;
            list-style: none;
        }

        .mini-activity-item {
            padding: 6px 8px;
            margin-bottom: 6px;
            border-radius: 4px;
            background-color: rgba(0, 0, 0, 0.2);
            border-left: 3px solid var(--primary-color);
        }

        .mini-activity-item.success {
            border-left-color: var(--success-color);
        }

        .mini-activity-item.warning {
            border-left-color: var(--warning-color);
        }

        .mini-activity-item.error {
            border-left-color: var(--error-color);
        }

        .mini-activity-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .mini-activity-title {
            font-size: 0.8rem;
            font-weight: 500;
        }

        .mini-activity-status {
            font-size: 0.75rem;
            padding: 2px 6px;
            border-radius: 10px;
            background-color: rgba(0, 0, 0, 0.3);
        }

        .mini-empty-state {
            text-align: center;
            color: var(--text-muted);
            font-size: 0.85rem;
            font-style: italic;
            padding: 10px;
        }

        .jobs-card {
            grid-column: span 2;
        }

        /* IP Address Display */
        .ip-address-container {
            display: flex;
            align-items: center;
            gap: 8px;
            flex-wrap: wrap;
            margin-top: 6px;
        }

        .ip-label {
            color: var(--text-muted);
            font-size: 0.85rem;
        }

        .ip-value {
            background: #1a1a1a;
            padding: 2px 8px;
            border-radius: 4px;
            color: var(--text-light);
            font-family: monospace;
            font-size: 0.9rem;
            border: 1px solid #333;
        }

        .ip-location {
            color: var(--text-muted);
            font-size: 0.85rem;
            font-style: italic;
        }

        /* Modal styles */
        .modal {
            display: none;
            position: fixed;
            z-index: 1000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            overflow: auto;
            background-color: rgba(0, 0, 0, 0.7);
            opacity: 0;
            transition: opacity 0.3s ease;
        }

        .modal.show {
            opacity: 1;
        }

        .modal-content {
            background-color: var(--dark-bg);
            margin: 5% auto;
            padding: 25px;
            border: 1px solid var(--border-color);
            width: 90%;
            max-width: 900px;
            border-radius: 10px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
            transform: translateY(-20px);
            transition: transform 0.3s ease;
        }

        .modal.show .modal-content {
            transform: translateY(0);
        }

        .modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            border-bottom: 1px solid var(--border-color);
            padding-bottom: 15px;
            margin-bottom: 15px;
        }

        .modal-title {
            font-size: 1.5rem;
            font-weight: 600;
            color: var(--text-light);
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .close-modal {
            background: transparent;
            border: none;
            color: var(--text-muted);
            font-size: 1.5rem;
            cursor: pointer;
            transition: color 0.2s ease;
        }

        .close-modal:hover {
            color: var(--text-light);
        }

        .browser-container {
            border: 1px solid var(--border-color);
            border-radius: 8px;
            overflow: hidden;
            background-color: #0a0a0a;
            height: 600px;
        }

        .browser-toolbar {
            background-color: #1b1b1b;
            padding: 10px;
            display: flex;
            align-items: center;
            border-bottom: 1px solid #2c2c2c;
        }

        .browser-actions {
            display: flex;
            gap: 10px;
            margin-right: 15px;
        }

        .browser-action {
            width: 12px;
            height: 12px;
            border-radius: 50%;
        }

        .action-close {
            background-color: #ff5f57;
        }

        .action-minimize {
            background-color: #febc2e;
        }

        .action-maximize {
            background-color: #27c93f;
        }

        .browser-address-bar {
            flex: 1;
            background-color: #0a0a0a;
            border-radius: 5px;
            padding: 8px 12px;
            display: flex;
            align-items: center;
            gap: 8px;
            border: 1px solid #2c2c2c;
        }

        .browser-address-bar i {
            color: #5f6368;
        }

        .browser-url {
            flex: 1;
            background: transparent;
            border: none;
            color: var(--text-light);
            font-size: 14px;
            outline: none;
        }

        .browser-content {
            height: calc(100% - 50px);
            overflow-y: auto;
            color: var(--text-light);
        }

        .loading-spinner {
            width: 40px;
            height: 40px;
            border: 4px solid rgba(255, 255, 255, 0.1);
            border-radius: 50%;
            border-top: 4px solid var(--primary-color);
            animation: spin 1s linear infinite;
            margin: 20px auto;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        /* Toggle switch */
        .toggle-switch {
            position: relative;
            display: flex;
            align-items: center;
            cursor: pointer;
        }

        .toggle-switch input {
            opacity: 0;
            width: 0;
            height: 0;
        }

        .toggle-slider {
            position: absolute;
            top: 0;
            left: 0;
            width: 40px;
            height: 20px;
            border-radius: 34px;
            background-color: #333;
            transition: .3s;
        }

        .toggle-slider:before {
            position: absolute;
            content: "";
            height: 14px;
            width: 14px;
            left: 3px;
            bottom: 3px;
            background-color: white;
            border-radius: 50%;
            transition: .3s;
        }

        input:checked + .toggle-slider {
            background-color: var(--primary-color);
        }

        input:checked + .toggle-slider:before {
            transform: translateX(20px);
        }
    </style>
</body>
</html>
